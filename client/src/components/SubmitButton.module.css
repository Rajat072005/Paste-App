/* src/components/AnimatedSubmitButton.module.css */

.button {
    position: relative;
    /* overflow: hidden;  <-- THIS LINE WAS THE PROBLEM AND HAS BEEN REMOVED */
    height: 3rem;
    width: 10rem;
    padding: 0 2rem;
    border-radius: 1.5rem;
    background: #1e1e2f;
    color: #fff;
    border: none;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    transition: background-color 0.3s ease, width 0.4s ease;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* State when birds are flying */
.button.sending {
    width: 3rem; /* Shrinks to a circle */
    pointer-events: none;
}

/* Final state after animation */
.button.done {
    cursor: default;
    background-color: #27ae60; /* A success green color */
}

.buttonContent {
    transition: opacity 0.2s ease-in-out;
}

/* Hide text when sending */
.button.sending .buttonContent {
    opacity: 0;
}

.birdBox {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.bird {
    position: absolute;
    background-size: auto 100%;
    width: 25px;
    height: 25px;
    will-change: transform;
    opacity: 0;
    /* This is a white SVG bird icon */
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 70 70'%3e%3cpath d='M62.9 29.4c0-2.2-2.5-3-4.3-3.1-1-.1-2.1.2-2.9.7-3.4 2.1-7.7 2.6-11.7 1.2-4.1-1.4-8.3-4.5-12.7-5.5-3.3-.8-6.9-.3-10.1 1-3.6 1.4-7.4 3.7-11.1 4.2-2.3.3-4.8-1.5-5.2-3.8-.4-2.3 1.3-4.6 3.6-5.1 4.1-.8 8.4-1.6 12.6-1.1 5.4.6 10.7 3.2 16.3 4.2 6.5 1.2 13.3.2 19.3-3.2 2.3-1.3 5.3-1.6 7.9-.6 2.6 1 4.1 3.5 4.1 6.2 0 2.2-1.4 4.5-3.5 5.6-4.1 2.2-8.7 3-13.1 2.5-5.2-.6-10.4-2.8-15.6-3.8-5.3-.9-10.8-1-16.1.4-4.5 1.2-8.9 3.6-13.1 5.3-1 .4-2 .7-3.1.7-2.3 0-4.6-1.5-5.3-3.8-.7-2.3.8-4.9 3.1-5.6 2.3-.7 4.9-.1 6.8 1.1 2.8 1.8 5.8 3.3 9 4.3 4.9 1.5 10 2 15 1.1 5.6-1 11.2-3.5 16.9-4.6 5.8-1.1 11.8-.8 17.5 1.1 3 1 6.2 1.4 9.1-.4 2.9-1.8 4.2-5 4.2-8.1z' fill='%23fff'/%3e%3c/svg%3e");
}

/* Trigger bird animation when in 'sending' state */
.button.sending .bird {
    opacity: 1;
    transition: transform 1s ease-out, opacity 1s ease-out;
    transition-delay: 0.1s;
}

/* Bird flight paths (slightly adjusted for effect) */
.button.sending .bird:nth-child(1) { transform: translateX(-300px) translateY(-120px) rotate(-15deg); }
.button.sending .bird:nth-child(2) { transform: translateX(-200px) translateY(-150px) rotate(-5deg); }
.button.sending .bird:nth-child(3) { transform: translateX(-120px) translateY(-100px) rotate(0deg); }
.button.sending .bird:nth-child(4) { transform: translateX(120px) translateY(-130px) rotate(0deg); }
.button.sending .bird:nth-child(5) { transform: translateX(200px) translateY(-110px) rotate(5deg); }
.button.sending .bird:nth-child(6) { transform: translateX(300px) translateY(-140px) rotate(15deg); }